# proj113-spdk-based-io-multi-path

基于SPDK实现Linux用户态IO多路径软件

## 项目描述

在存储网络中，为保证存储网络的可靠性，主机与存储之间通过多条链路相连，即主机与存储之间的IO有多条路径可供选择。通过多路径软件技术，可以对主机与存储之间的多条路径进行冗余屏蔽，对主机呈现一个物理盘。如果某条路径故障，多路径软件自动透明的切换到其它可用路径，保证IO下发。多路径软件还可以提供流量控制功能，实现路径间负载均衡，提升性能。当前linux内核提供通用多路径方案，但是在虚拟化场景下，为缩短虚拟机IO路径，减少cpu陷入陷出，提升虚拟机性能，虚拟机IO数据通过用户态spdk组件处理，不再经过主机内核，因此该场景下无法使用Linux内核多路径能力。该项目希望基于spdk实现一套Linux用户态多路径软件，在虚拟化场景下为存储网络提供高效、可靠、稳定的使用体验。

## 所属赛道

2022全国大学生操作系统比赛的“OS功能设计”赛道

## 参赛要求

- 以小组为单位参赛，最多三人一个小组
- 如学生参加了多个项目，参赛学生选择一个自己参加的项目参与评奖
- 请遵循“2022全国大学生操作系统比赛”的章程和技术方案要求

## 项目导师

曹金华

* github
* email  caojinhua1@huawei.com

## 难度

中等

## 特征

- 支持屏蔽冗余路径。主机与存储通过多条链路相连，对于同一块磁盘，不同的链路均会呈现出一个磁盘设备，出现冗余，因此多路径软件需要支持冗余屏蔽功能，对用户呈现一个可用的磁盘设备。
- 支持路径选择。自动选择一条可用路径下发IO。
- 支持故障切换和恢复。当多路径软件检测到路径故障时，自动将IO切换到可用路径；当多路径软件检测到路径恢复后，自动将路径添加到可用路径列表。
- 支持负载均衡。主机与存储之间通过多条IO路径相连，IO可同时通过多条路径一起下发。

## 进阶特性

- 支持最优路径选择。自动选择一条最优路径下发IO。
- 负载均衡场景下，支持不同的负载均衡算法，如round_robin等。

## License

任意开源license都可

## 预期目标

特征中的要求为必备能力，进阶特性为建议内容，不要求一定完成。选择本项目的同学也可提出自己的新想法，得到导师认可支持后亦可加入预期目标或进阶特性。
